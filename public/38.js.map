{"version":3,"sources":["webpack:///./resources/js/dashboard/mixins/tables/helper.js","webpack:///./resources/js/dashboard/views/review/Reviews.vue","webpack:///./resources/js/dashboard/views/review/Reviews.vue?0e7e","webpack:///resources/js/dashboard/views/review/Reviews.vue","webpack:///./resources/js/dashboard/views/review/Reviews.vue?9184"],"names":["tableHelper","props","data","instance","items","per_page","pagination","currentPage","nextPageUrl","totalPages","search","sortKey","sortOrder","API","watch","value","oldValue","this","getItems","methods","setInstance","params","_this","requestParams","sort_key","sort_order","undefined","requestUrl","list","selectedPage","axios","get","then","response","next_page_url","last_page","handleSort","key","active","deleteItem","id","_this2","showNotification","error","getTableTitle","$t","getColumnTitle","model","getPropertyTitle","property","convertDate","date","selectedDate","Date","dateDay","getDate","dateMonth","getMonth","getFullYear","type","message","color","customInstance","isPlural","count","$tc","title","text","$vs","notify","showDeleteAlert","deleteItemFunction","bind","dialog","accept","mounted","mixins","components","StarRating","instanceSlug","reviewPopup","approveReview","review","approve","post","openReviewPopup","find","item","created","component","_vm","_c","_self","attrs","on","scopedSlots","_u","fn","_ref","_l","indexItem","staticClass","_v","_s","product","user","email","rating","status","_e","created_at","$event","slot","callback","$$v","expression","$set","name","content"],"mappings":"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","file":"38.js","sourcesContent":["//Application routes\nimport {API} from \"@/mixins/api/api\";\n\n//Library for working with requests\nimport axios from 'axios';\n\nconst tableHelper = {\n    props: {\n    },\n    data() {\n\n        return {\n\n            instance: '',\n            items: [],\n            per_page: 20,\n            pagination: {\n                currentPage: 1,\n                nextPageUrl: '',\n                totalPages: 1\n            },\n            search: '',\n            sortKey: '',\n            sortOrder: '',\n            API\n\n        }\n\n    },\n    watch: {\n        'pagination.currentPage': function(value, oldValue) {\n\n            this.getItems();\n\n        },\n        'search': function () {\n\n            this.getItems();\n\n        }\n    },\n    methods: {\n\n        setInstance(instance){\n\n            this.instance = instance;\n\n        },\n        getItems(params) {\n\n            const instance = this.instance;\n\n            let requestParams = {\n\n                params: {\n\n                    per_page: this.per_page,\n                    sort_key: 'created_at',\n                    sort_order: 'desc'\n\n                }\n\n            };\n\n            if(params !== undefined){\n\n                requestParams.params = params;\n\n            }\n\n            if(this.search !== ''){\n\n                requestParams.params.search = this.search;\n\n                this.pagination.currentPage = 1;\n\n            }\n\n            let requestUrl = this.API[instance].list;\n\n            let selectedPage = this.pagination.currentPage;\n\n            if(this.pagination.nextPageUrl !== '' && this.search === '') {\n\n                requestUrl = requestUrl + '?page=' + selectedPage;\n\n            }\n\n            axios.get(requestUrl, requestParams).then(response => {\n                this.items = response.data.data;\n                this.pagination.nextPageUrl = response.data.next_page_url;\n                this.pagination.totalPages = response.data.last_page;\n            });\n\n        },\n        handleSort(key, active) {\n\n            let sort_order = active ? 'desc' : 'asc';\n\n            let params = {\n                sort_key: key,\n                sort_order: sort_order\n            };\n\n            this.getItems(params);\n\n        },\n        deleteItem(id) {\n\n            const instance = this.instance;\n\n            axios.delete(this.API[instance].delete + '/' + id)\n                .then(\n                    response => {\n\n                        if (response.data === 'success') {\n\n                            this.showNotification('success', 'request.deletedSuccess', 'success');\n\n                            //Update the items list\n                            this.getItems();\n\n                        }\n\n                    })\n                .catch(\n                    error => {\n\n                        this.showNotification('error', 'request.error', 'danger');\n\n                    }\n                );\n\n        },\n        getTableTitle(){\n\n            return this.$t('tables.' + this.instance + '.title');\n\n        },\n        getColumnTitle(model){\n\n            return this.$t('models.' + this.instance + '.properties.' + model);\n\n        },\n        getPropertyTitle(property){\n\n            return this.$t('models.' + this.instance + '.properties.' + property);\n\n        },\n        convertDate(date){\n\n            let selectedDate = new Date(date);\n            let dateDay = selectedDate.getDate();\n            let dateMonth = selectedDate.getMonth()+1;\n            let dateYear = selectedDate.getFullYear();\n\n            if(dateDay < 10){\n                dateDay = '0' + dateDay;\n            }\n\n            if(dateMonth < 10){\n                dateMonth = '0' + dateMonth;\n            }\n\n            let convertedDate = dateDay + '.' + dateMonth + '.' + dateYear;\n\n            return convertedDate;\n\n        },\n        showNotification(type, message, color, customInstance, isPlural){\n\n            let instance = '';\n\n            let count = 1;\n\n            if(isPlural){\n\n                count = 2;\n\n            }\n\n            if(customInstance){\n\n                instance = this.$tc('models.' + customInstance + '.title', count);\n\n            }\n            else{\n\n                instance = this.$tc('models.' + this.instance + '.title', count);\n\n            }\n\n            let title = this.$t('messages.' + type);\n\n            let text = this.$tc('messages.' + message, count, { instance: instance });\n\n            this.$vs.notify(\n                {\n                    title: title,\n                    text:  text,\n                    color: color\n                }\n            );\n\n        },\n        showDeleteAlert(id){\n\n            let deleteItemFunction = this.deleteItem.bind(null, id);\n\n            let instance = this.$tc('models.' + this.instance + '.title', 1);\n\n            let text = this.$t('messages.confirmation.delete', { instance: instance });\n\n            this.$vs.dialog({\n                color:'primary',\n                title: 'Confirm',\n                text: text,\n                accept: deleteItemFunction\n            });\n\n        }\n\n    },\n    mounted: function(){\n\n    }\n\n};\n\nexport default tableHelper;","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('vs-table',{attrs:{\"max-items\":_vm.per_page,\"sst\":true,\"data\":_vm.items,\"noDataText\":_vm.$t('messages.notFound')},on:{\"sort\":_vm.handleSort},scopedSlots:_vm._u([{key:\"default\",fn:function({data}){return _vm._l((data),function(review,indexItem){return _c('vs-tr',{key:indexItem},[_c('vs-td',[_c('p',{staticClass:\"text-sm\"},[_vm._v(_vm._s(review.product.title))])]),_vm._v(\" \"),_c('vs-td',[_c('p',{staticClass:\"text-sm\"},[_vm._v(_vm._s(review.user.email))])]),_vm._v(\" \"),_c('vs-td',[_c('star-rating',{attrs:{\"rating\":review.rating,\"read-only\":true,\"increment\":0.5,\"star-size\":15}})],1),_vm._v(\" \"),_c('vs-td',[(review.status)?_c('vs-icon',{attrs:{\"icon\":\"check\",\"color\":\"success\",\"size\":\"small\"}}):_vm._e(),_vm._v(\" \"),(!review.status)?_c('vs-icon',{attrs:{\"icon\":\"close\",\"color\":\"danger\",\"size\":\"small\"}}):_vm._e()],1),_vm._v(\" \"),_c('vs-td',[_c('p',{staticClass:\"text-sm\"},[_vm._v(_vm._s(_vm.convertDate(review.created_at)))])]),_vm._v(\" \"),_c('vs-td',[_c('div',{staticClass:\"flex\"},[_c('vs-button',{staticClass:\"text-sm mr-2\",attrs:{\"color\":\"primary\",\"icon\":\"remove_red_eye\",\"type\":\"border\"},on:{\"click\":function($event){return _vm.openReviewPopup(review.id)}}}),_vm._v(\" \"),_c('vs-button',{attrs:{\"color\":\"danger\",\"icon\":\"delete\"},on:{\"click\":function($event){return _vm.showDeleteAlert(review.id)}}})],1)])],1)})}}])},[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"vx-row w-full pb-3 m-0\"},[_c('div',{staticClass:\"vx-col flex items-center w-1/2 p-0\"},[_c('h3',{staticClass:\"mb-0 mr-3\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.getTableTitle())+\"\\n                    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-col flex items-center justify-end w-1/2 p-0\"},[_c('vs-input',{staticClass:\"w-full\",attrs:{\"icon\":\"search\",\"placeholder\":_vm.$t('actions.search')},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)])]),_vm._v(\" \"),_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"sort-key\":\"product_id\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPropertyTitle('product'))+\"\\n            \")]),_vm._v(\" \"),_c('vs-th',{attrs:{\"sort-key\":\"user_id\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPropertyTitle('user'))+\"\\n            \")]),_vm._v(\" \"),_c('vs-th',{attrs:{\"sort-key\":\"rating\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPropertyTitle('rating'))+\"\\n            \")]),_vm._v(\" \"),_c('vs-th',{attrs:{\"sort-key\":\"status\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPropertyTitle('status'))+\"\\n            \")]),_vm._v(\" \"),_c('vs-th',{attrs:{\"sort-key\":\"created_at\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPropertyTitle('createdAt'))+\"\\n            \")]),_vm._v(\" \"),_c('vs-th',[_vm._v(\"\\n                \"+_vm._s(_vm.$t('actions.title'))+\"\\n            \")])],1)],2),_vm._v(\" \"),_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col flex justify-end items-center w-full p-3\"},[_c('vs-pagination',{attrs:{\"total\":_vm.pagination.totalPages},model:{value:(_vm.pagination.currentPage),callback:function ($$v) {_vm.$set(_vm.pagination, \"currentPage\", $$v)},expression:\"pagination.currentPage\"}})],1)]),_vm._v(\" \"),(_vm.reviewPopup.active)?_c('vs-popup',{attrs:{\"title\":_vm.$t('actions.view') + ' ' + _vm.$tc('models.review.title', 1),\"active\":_vm.reviewPopup.active},on:{\"update:active\":function($event){return _vm.$set(_vm.reviewPopup, \"active\", $event)}}},[_c('div',{staticClass:\"vx-row w-full px-0 mb-6\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('p',{staticClass:\"font-bold\"},[_vm._v(_vm._s(_vm.getPropertyTitle('user')))])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-col w-1/2\"},[_c('p',[_vm._v(_vm._s(_vm.reviewPopup.data.user.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-col w-1/2\"},[_c('p',[_vm._v(_vm._s(_vm.reviewPopup.data.user.email))])])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-row w-full px-0 mb-6\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('p',{staticClass:\"font-bold\"},[_vm._v(_vm._s(_vm.getPropertyTitle('createdAt')))])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-col w-full\"},[_c('p',[_vm._v(_vm._s(_vm.convertDate(_vm.reviewPopup.data.created_at)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-row w-full px-0 mb-6\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('p',{staticClass:\"font-bold\"},[_vm._v(_vm._s(_vm.getPropertyTitle('content')))])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-col w-full\"},[_c('p',[_vm._v(_vm._s(_vm.reviewPopup.data.content))])])]),_vm._v(\" \"),_c('div',{staticClass:\"vx-row w-full px-0\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('vs-button',{on:{\"click\":function($event){return _vm.approveReview(_vm.reviewPopup.data.id)}}},[_vm._v(_vm._s(_vm.$t('actions.approve')))]),_vm._v(\" \"),_c('vs-button',{attrs:{\"color\":\"danger\"},on:{\"click\":function($event){return _vm.showDeleteAlert(_vm.reviewPopup.data.id)}}},[_vm._v(_vm._s(_vm.$t('actions.delete')))])],1)])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reviews.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reviews.vue?vue&type=script&lang=js\"","<template>\r\n\r\n    <div>\r\n        <vs-table :max-items=\"per_page\" :sst=\"true\" :data=\"items\" :noDataText=\"$t('messages.notFound')\" @sort=\"handleSort\">\r\n\r\n            <template slot=\"header\">\r\n                <div class=\"vx-row w-full pb-3 m-0\">\r\n                    <div class=\"vx-col flex items-center w-1/2 p-0\">\r\n                        <h3 class=\"mb-0 mr-3\">\r\n                            {{ getTableTitle() }}\r\n                        </h3>\r\n                    </div>\r\n                    <div class=\"vx-col flex items-center justify-end w-1/2 p-0\">\r\n                        <vs-input icon=\"search\" :placeholder=\"$t('actions.search')\" v-model=\"search\" class=\"w-full\" />\r\n                    </div>\r\n                </div>\r\n            </template>\r\n\r\n            <template slot=\"thead\">\r\n                <vs-th sort-key=\"product_id\">\r\n                    {{ getPropertyTitle('product') }}\r\n                </vs-th>\r\n                <vs-th sort-key=\"user_id\">\r\n                    {{ getPropertyTitle('user') }}\r\n                </vs-th>\r\n                <vs-th sort-key=\"rating\">\r\n                    {{ getPropertyTitle('rating') }}\r\n                </vs-th>\r\n                <vs-th sort-key=\"status\">\r\n                    {{ getPropertyTitle('status') }}\r\n                </vs-th>\r\n                <vs-th sort-key=\"created_at\">\r\n                    {{ getPropertyTitle('createdAt') }}\r\n                </vs-th>\r\n                <vs-th>\r\n                    {{ $t('actions.title') }}\r\n                </vs-th>\r\n            </template>\r\n\r\n            <template slot-scope=\"{data}\">\r\n                <vs-tr :key=\"indexItem\" v-for=\"(review, indexItem) in data\" >\r\n                    <vs-td>\r\n                        <p class=\"text-sm\">{{ review.product.title }}</p>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <p class=\"text-sm\">{{ review.user.email }}</p>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <star-rating :rating=\"review.rating\" :read-only=\"true\" :increment=\"0.5\" :star-size=\"15\"></star-rating>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <vs-icon icon=\"check\" color=\"success\" size=\"small\" v-if=\"review.status\"></vs-icon>\r\n                        <vs-icon icon=\"close\" color=\"danger\" size=\"small\" v-if=\"!review.status\"></vs-icon>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <p class=\"text-sm\">{{ convertDate(review.created_at) }}</p>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <div class=\"flex\">\r\n                            <vs-button color=\"primary\" icon=\"remove_red_eye\" class=\"text-sm mr-2\" type=\"border\" @click=\"openReviewPopup(review.id)\"></vs-button>\r\n                            <vs-button color=\"danger\" icon=\"delete\" @click=\"showDeleteAlert(review.id)\"></vs-button>\r\n                        </div>\r\n                    </vs-td>\r\n                </vs-tr>\r\n            </template>\r\n\r\n        </vs-table>\r\n        <div class=\"vx-row\">\r\n            <div class=\"vx-col flex justify-end items-center w-full p-3\">\r\n                <vs-pagination :total=\"pagination.totalPages\" v-model=\"pagination.currentPage\"></vs-pagination>\r\n            </div>\r\n        </div>\r\n\r\n        <!--Comment popup-->\r\n        <vs-popup :title=\"$t('actions.view') + ' ' + $tc('models.review.title', 1)\" :active.sync=\"reviewPopup.active\" v-if=\"reviewPopup.active\">\r\n            <div class=\"vx-row w-full px-0 mb-6\">\r\n                <div class=\"vx-col w-full\">\r\n                    <p class=\"font-bold\">{{ getPropertyTitle('user') }}</p>\r\n                </div>\r\n                <div class=\"vx-col w-1/2\">\r\n                    <p>{{ reviewPopup.data.user.name }}</p>\r\n                </div>\r\n                <div class=\"vx-col w-1/2\">\r\n                    <p>{{ reviewPopup.data.user.email }}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-row w-full px-0 mb-6\">\r\n                <div class=\"vx-col w-full\">\r\n                    <p class=\"font-bold\">{{ getPropertyTitle('createdAt') }}</p>\r\n                </div>\r\n                <div class=\"vx-col w-full\">\r\n                    <p>{{ convertDate(reviewPopup.data.created_at) }}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-row w-full px-0 mb-6\">\r\n                <div class=\"vx-col w-full\">\r\n                    <p class=\"font-bold\">{{ getPropertyTitle('content') }}</p>\r\n                </div>\r\n                <div class=\"vx-col w-full\">\r\n                    <p>{{ reviewPopup.data.content }}</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-row w-full px-0\">\r\n                <div class=\"vx-col w-full\">\r\n                    <vs-button @click=\"approveReview(reviewPopup.data.id)\">{{ $t('actions.approve') }}</vs-button>\r\n                    <vs-button color=\"danger\" @click=\"showDeleteAlert(reviewPopup.data.id)\">{{ $t('actions.delete') }}</vs-button>\r\n                </div>\r\n            </div>\r\n        </vs-popup>\r\n\r\n    </div>\r\n\r\n</template>\r\n<script>\r\n\r\n    //Library for working with requests\r\n    import axios from 'axios';\r\n\r\n    //Table helper functions\r\n    import tableHelper from \"@/mixins/tables/helper\";\r\n\r\n    //Star rating component\r\n    import StarRating from 'vue-star-rating'\r\n\r\n    export default {\r\n        mixins: [tableHelper],\r\n        components: {StarRating},\r\n        data() {\r\n\r\n            return {\r\n\r\n                instance: 'review',\r\n                instanceSlug: 'reviews',\r\n                reviewPopup: {\r\n                    active: false,\r\n                    data: {}\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n        methods: {\r\n            approveReview(id) {\r\n\r\n                let requestUrl = this.API.review.approve;\r\n\r\n                let requestParams = {\r\n                    id: id\r\n                };\r\n\r\n                axios.post(requestUrl, requestParams)\r\n                    .then(\r\n                        response => {\r\n\r\n                            if (response.data === 'success') {\r\n\r\n                                this.showNotification('success', 'request.approvedSuccess', 'success');\r\n\r\n                                //Refresh the list\r\n                                this.getItems(this.per_page);\r\n\r\n                            }\r\n\r\n                        })\r\n                    .catch(\r\n                        error => {\r\n\r\n                            this.showNotification('error', 'request.error', 'danger');\r\n\r\n                        }\r\n                    );\r\n\r\n            },\r\n            openReviewPopup(id){\r\n\r\n                let review = this.items.find(function(item){\r\n\r\n                    return item.id = id;\r\n\r\n                });\r\n\r\n                this.reviewPopup.data = review;\r\n\r\n                this.reviewPopup.active = true;\r\n\r\n            }\r\n        },\r\n        created(){\r\n\r\n            //Set the instance\r\n            this.setInstance(this.instance);\r\n\r\n        },\r\n        mounted() {\r\n\r\n            //Load items\r\n            this.getItems();\r\n\r\n        }\r\n    }\r\n</script>","import { render, staticRenderFns } from \"./Reviews.vue?vue&type=template&id=0eb74c3c\"\nimport script from \"./Reviews.vue?vue&type=script&lang=js\"\nexport * from \"./Reviews.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}