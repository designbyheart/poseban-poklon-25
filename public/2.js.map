{"version":3,"sources":["webpack:///resources/js/dashboard/components/images/ImageUpload.vue","webpack:///./resources/js/dashboard/components/images/ImageUpload.vue","webpack:///./resources/js/dashboard/EventBus.js","webpack:///./resources/js/dashboard/components/images/ImageUpload.vue?cfc1","webpack:///./resources/js/dashboard/components/images/ImageUpload.vue?1869","webpack:///./resources/js/dashboard/components/images/ImageUpload.vue?e404"],"names":["FilePond","vueFilePond","FilePondPluginFileValidateType","FilePondPluginFileValidateSize","name","components","props","per_page","type","Number","multiple","Boolean","isQuillEditor","previewWidth","String","maxFileSize","allowedFileTypes","data","popupActive","uploadPopupActive","uploadLabel","uploadUrl","files","images","currentImage","selectedImages","requestParams","sort_key","sort_order","pagination","currentPage","nextPageUrl","totalPages","loadedImages","API","watch","paginationCurrentPage","value","oldValue","getImages","$attrsValue","setData","methods","hideLoad","index","push","length","$vs","loading","close","_this","showLoading","request_url","image","list","page","axios","get","params","then","response","next_page_url","last_page","imageUploaded","selectImage","setCurrentImage","imagesCount","multipleUpload","existingImage","find","item","id","isEmpty","splice","handleSelect","isSelected","selectedImage","updateImage","_this2","put","update","showNotification","removeImage","undefined","selectedPosition","indexOf","deleteImage","_this3","position","message","color","customInstance","isPlural","instance","count","$tc","title","$t","text","notify","container","scale","background","setImages","Object","assign","obj","prop","hasOwnProperty","showImagesModal","closeImagesModal","e","$emit","$attrs","Array","isArray","JSON","parse","setUploadUrl","getActionName","action","useModel","actionText","instanceTitle","getPropertyTitle","property","create","listenEvents","_this4","EventBus","$on","created","render","_vm","_c","_self","staticClass","_l","key","style","width","attrs","src","url","_v","on","click","$event","_s","_e","fullscreen","active","updateActive","load","change","model","callback","$$v","$set","expression","description","alt","total","server","processfiles","staticRenderFns","_withStripped","Vue"],"mappings":"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","file":"2.js","sourcesContent":["<template>\n\n\n    <div>\n\n        <div class=\"vx-row mb-3\" v-if=\"!isQuillEditor\">\n\n            <div class=\"vx-col w-full\">\n                <div class=\"abr-form-images flex flex-wrap content-start w-full\">\n\n                    <div class=\"abr-form-image\" :style=\"{width: previewWidth}\" :key=\"image.id\" v-for=\"image in selectedImages\" :image-id=\"image.id\">\n                        <img :src=\"image.url\" width=\"100%\" class=\"object-cover rounded\" />\n                        <div class=\"abr-image-btn bg-danger rounded shadow\" @click=\"removeImage(image)\">\n                            <i class=\"material-icons\">\n                                close\n                            </i>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n            <div class=\"vx-col w-full\">\n                <vs-button color=\"primary\" type=\"filled\" @click=\"showImagesModal()\">{{ getActionName('choose', true, multiple) }}</vs-button>\n            </div>\n\n        </div>\n\n        <vs-popup fullscreen :title=\"getPropertyTitle('uploaderTitle')\" :active.sync=\"popupActive\">\n\n            <div class=\"vx-row abr-images-container mb-0\">\n                <div id=\"abr-images\" class=\"vx-col w-3/4 h-full abr-images flex flex-wrap content-start mb-0 pr-0 vs-con-loading__container\">\n\n                    <div class=\"abr-images-item rounded\" v-bind:class=\"{'border-primary': isSelected(image.id)}\" :key=\"image.id\" v-for=\"image, index in images\" :image-id=\"image.id\">\n                        <img :src=\"image.url\" width=\"100%\" class=\"object-cover\" v-on:click=\"selectImage(image)\" @load=\"hideLoad(index)\" />\n                        <div class=\"abr-image-btn bg-danger rounded shadow\" v-if=\"isSelected(image.id)\" @click=\"removeImage(image)\">\n                            <i class=\"material-icons\">\n                                close\n                            </i>\n                        </div>\n                    </div>\n\n                </div>\n                <div class=\"vx-col w-1/4 pl-0\">\n                    <div class=\"vx-row\">\n                        <div class=\"vx-col w-full abr-selected-image\" v-if=\"!isEmpty(currentImage)\">\n                            <h3 class=\"mb-6\">{{ getPropertyTitle('imageParameters') }}</h3>\n                            <div class=\"vx-row abr-image-preview mb-6\">\n                                <div class=\"vx-col w-full\">\n                                    <img :src=\"currentImage.url\" class=\"mb-3\" />\n                                    <p>{{ currentImage.title }}</p>\n                                </div>\n                            </div>\n                            <div class=\"vx-row abr-image-form\">\n                                <div class=\"vx-col w-full mb-6\">\n                                    <vs-input :label-placeholder=\"getPropertyTitle('title')\" class=\"w-full\" v-model=\"currentImage.title\" @change=\"updateImage(currentImage)\" />\n                                </div>\n                                <div class=\"vx-col w-full mb-6\">\n                                    <vs-input :label-placeholder=\"getPropertyTitle('description')\" class=\"w-full\" v-model=\"currentImage.description\" @change=\"updateImage(currentImage)\" />\n                                </div>\n                                <div class=\"vx-col w-full mb-6\">\n                                    <vs-input :label-placeholder=\"getPropertyTitle('alt')\" class=\"w-full\" v-model=\"currentImage.alt\" @change=\"updateImage(currentImage)\" />\n                                </div>\n                                <div class=\"vx-col w-full mb-6\">\n                                    <vs-button color=\"danger\" class=\"w-1/2\" type=\"filled\" @click=\"deleteImage(currentImage)\">{{ getActionName('delete', true) }}</vs-button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"vx-row abr-images-pagination mb-0\">\n                <div class=\"vx-col flex justify-center items-center w-3/4\">\n                    <vs-pagination :total=\"pagination.totalPages\" v-model=\"pagination.currentPage\"></vs-pagination>\n                </div>\n                <div class=\"vx-col flex justify-center items-center w-1/4 pl-0\">\n                    <vs-button color=\"primary\" type=\"filled\" class=\"mr-3\" @click=\"closeImagesModal()\">{{ getActionName('choose', true, multiple) }}</vs-button>\n                    <vs-button type=\"border\" @click=\"uploadPopupActive = true\">{{ getActionName('upload') }}</vs-button>\n                </div>\n            </div>\n\n            <vs-popup :title=\"getActionName('upload', true, multiple)\" :active.sync=\"uploadPopupActive\">\n                <div class=\"vx-row m-0\">\n                    <div class=\"vx-col w-full p-0\">\n                        <file-pond\n                                name=\"file[]\"\n                                :label-idle=\"uploadLabel\"\n                                allow-multiple=\"true\"\n                                :accepted-file-types=\"allowedFileTypes\"\n                                :server=\"uploadUrl\"\n                                v-bind:files=\"files\"\n                                v-on:processfiles=\"imageUploaded()\"\n                                :max-file-size=\"maxFileSize\"\n                        />\n                    </div>\n                    <div class=\"vx-col w-full p-0\">\n                        <vs-button class=\"float-right\" @click=\"uploadPopupActive = false\">{{ getActionName('close') }}</vs-button>\n                    </div>\n                </div>\n            </vs-popup>\n\n        </vs-popup>\n\n    </div>\n\n\n</template>\n\n<script>\n\n    import axios from 'axios';\n\n    //Application routes\n    import { API } from '../../mixins/api/api.js';\n\n    // Import Vue FilePond\n    import vueFilePond from 'vue-filepond';\n\n    // Import FilePond styles\n    import 'filepond/dist/filepond.min.css';\n\n    //FilePond plugins\n    import FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\n    import FilePondPluginFileValidateSize from 'filepond-plugin-file-validate-size';\n\n    // Create component\n    const FilePond = vueFilePond(FilePondPluginFileValidateType, FilePondPluginFileValidateSize);\n\n    //Events bus\n    import { EventBus } from '../../EventBus';\n\n    export default {\n        name: \"ImageUpload\",\n        components: { FilePond },\n        props: {\n            per_page: {\n                type: Number,\n                default: 20\n            },\n            multiple: {\n                type: Boolean,\n                default: false\n            },\n            isQuillEditor: {\n                type: Boolean,\n                default: false\n            },\n            previewWidth: {\n                type: String,\n                default: '24%'\n            },\n            maxFileSize: {\n                type: String,\n                default: '1MB'\n            },\n            allowedFileTypes: {\n                type: String,\n                default: 'image/jpeg, image/png, image/svg+xml'\n            }\n        },\n        data() {\n            return {\n                popupActive: false,\n                uploadPopupActive: false,\n                uploadLabel: 'Drag & Drop your image or <span class=\"filepond--label-action\"> Browse </span>',\n                uploadUrl: '',\n                files: [],\n                images: [],\n                currentImage: {},\n                selectedImages: [],\n                requestParams: {\n                    per_page: this.per_page,\n                    sort_key: 'created_at',\n                    sort_order: 'desc'\n                },\n                pagination: {\n                    currentPage: 1,\n                    nextPageUrl: '',\n                    totalPages: 1\n                },\n                loadedImages: [],\n                API\n            }\n        },\n        watch: {\n\n            'pagination.currentPage': function(value, oldValue) {\n\n                this.getImages();\n\n            },\n            '$attrs.value': function (value, oldValue) {\n\n                this.setData();\n\n            }\n\n        },\n        methods: {\n            hideLoad(index){\n\n                this.loadedImages.push(index);\n\n                if(this.loadedImages.length === this.images.length){\n\n                    this.$vs.loading.close('#abr-images > .con-vs-loading')\n\n                }\n\n            },\n            getImages() {\n\n                this.showLoading();\n\n                let request_url = this.API.image.list;\n\n                let page = this.pagination.currentPage;\n\n                if (this.pagination.nextPageUrl != '') {\n\n                    request_url = request_url + '?page=' + page\n\n                }\n\n                //Clear the loaded images list\n                this.images = [];\n                this.loadedImages = [];\n\n                axios.get(request_url, {params: this.requestParams}).then(response => {\n\n                    this.images = response.data.data;\n\n                    this.pagination.nextPageUrl = response.data.next_page_url;\n\n                    this.pagination.totalPages = response.data.last_page;\n\n                });\n\n            },\n            imageUploaded(){\n\n                this.getImages();\n\n            },\n            selectImage(image){\n\n                //Set current image for the image form\n                this.setCurrentImage(image);\n\n                let selectedImages = this.selectedImages;\n\n                let imagesCount = selectedImages.length;\n\n                let multipleUpload = this.multiple;\n\n                let existingImage = selectedImages.find(function (item) {\n\n                    return item.id === image.id;\n\n                });\n\n                if(this.isEmpty(existingImage)){\n\n                    if(multipleUpload){\n\n                        this.selectedImages.push(image);\n\n                    }\n                    else{\n\n                        this.selectedImages.splice(0, 1);\n\n                        this.selectedImages.push(image);\n\n                    }\n\n                }\n\n                if(imagesCount < 1 || multipleUpload) {\n\n                    let existingImage = selectedImages.find(function (item) {\n\n                        return item.id === image.id;\n\n                    });\n\n                    if(this.isEmpty(existingImage)){\n\n                        this.selectedImages.push(image);\n\n                    }\n\n                }\n\n                //Send the selected image\n                this.handleSelect();\n\n            },\n            isSelected(image){\n\n                let selectedImage = this.selectedImages.find(function(item){\n\n                    return item.id === image;\n\n                });\n\n                if(selectedImage){\n\n                    return true;\n\n                }\n\n            },\n            updateImage(image){\n\n                axios.put(this.API.image.update + '/' + image.id, image).then(response => {\n\n                    if(response.data === 'success'){\n\n                        this.showNotification('success', 'request.updatedSuccess', 'success');\n\n                    }\n                    else{\n\n                        this.showNotification('error', 'request.error', 'danger');\n\n                    }\n\n                });\n\n            },\n            removeImage(image){\n\n                let selectedImages = this.selectedImages;\n\n                let existingImage = selectedImages.find(function(item){\n\n                    return item.id === image.id;\n\n                });\n\n                if(existingImage !== undefined){\n\n                    let selectedPosition = selectedImages.indexOf(existingImage);\n\n                    selectedImages.splice(selectedPosition, 1);\n\n                }\n\n                if(this.currentImage.id === image.id){\n\n                    this.currentImage = {};\n\n                }\n\n            },\n            deleteImage(image){\n\n                this.removeImage(image);\n\n                let images = this.images;\n\n                let existingImage = images.find(function(item){\n\n                    return item.id === image.id;\n\n                });\n\n                axios.delete(this.API.image.delete + '/' + image.id).then(response => {\n\n                    if(response.data === 'success'){\n\n                        this.showNotification('success', 'request.deletedSuccess', 'success');\n\n                        if(existingImage !== undefined){\n\n                            let position = images.indexOf(image);\n\n                            images.splice(position, 1);\n\n                        }\n\n                    }\n                    else{\n\n                        this.showNotification('error', 'request.error', 'danger');\n\n                    }\n\n                });\n\n            },\n            showNotification(type, message, color, customInstance, isPlural){\n\n                let instance = '';\n\n                let count = 1;\n\n                if(isPlural){\n\n                    count = 2;\n\n                }\n\n                if(customInstance){\n\n                    instance = this.$tc('models.' + customInstance + '.title', count);\n\n                }\n                else{\n\n                    instance = this.$tc('models.image.title', count);\n\n                }\n\n                let title = this.$t('messages.' + type);\n\n                let text = this.$tc('messages.' + message, count, { instance: instance });\n\n                this.$vs.notify(\n                    {\n                        title: title,\n                        text:  text,\n                        color: color\n                    }\n                );\n\n            },\n            showLoading(){\n\n                this.$vs.loading({\n                    container: '#abr-images',\n                    scale: 1,\n                    background: '#fff',\n                    color: 'primary'\n                });\n\n            },\n            setImages(images){\n\n                this.selectedImages = images;\n\n                if(this.currentImage === {}){\n\n                    this.setCurrentImage();\n\n                }\n\n            },\n            setCurrentImage(image){\n\n                if(image === undefined){\n\n                    if (this.selectedImages.length > 0) {\n\n                        this.currentImage = Object.assign({}, this.selectedImages[0]);\n\n                    }\n                    else {\n\n                        this.currentImage = {};\n\n                    }\n\n                }\n                else {\n\n                    this.currentImage = Object.assign(image);\n\n                }\n\n            },\n            isEmpty(obj) {\n                for (var prop in obj) {\n                    if (obj.hasOwnProperty(prop)) return false;\n                }\n                return true;\n            },\n            showImagesModal(){\n                this.popupActive = true;\n                if(this.selectedImages.length === 0 && this.pagination.currentPage === 1) {\n\n                    //Show loading animation\n                    this.showLoading();\n\n                }\n                this.getImages();\n                this.setCurrentImage();\n            },\n            closeImagesModal(){\n                this.popupActive = false;\n            },\n            handleSelect (e) {\n\n                this.$emit('input', this.selectedImages);\n\n            },\n            setData(){\n\n                let images = this.$attrs.value;\n\n                if(images !== \"\" && images !== undefined){\n\n                    if(!Array.isArray(images)){\n\n                        images = JSON.parse(images);\n\n                    }\n\n                    this.setImages(images);\n\n                }\n\n                this.setUploadUrl();\n\n            },\n            getActionName(action, useModel, isPlural){\n\n                let count = 1;\n\n                if(isPlural){\n\n                    count = 2;\n\n                }\n\n                let actionText = this.$t('actions.' + action);\n\n                if(useModel){\n\n                    let instanceTitle = this.$tc('models.image.title', count);\n\n                    return actionText + ' ' + instanceTitle;\n\n                }\n                else{\n\n                    return actionText;\n\n                }\n\n            },\n            //Newer and more advanced method for retrieving a model property name\n            getPropertyTitle(property){\n\n                return this.$t('models.image.properties.' + property);\n\n            },\n            setUploadUrl(){\n\n                this.uploadUrl = this.API.image.create;\n\n            },\n            listenEvents(){\n\n                //Open images manager from quill editor\n                EventBus.$on('open-image-uploader', action => {\n\n                    this.showImagesModal();\n\n                });\n\n            }\n        },\n        created() {\n\n            //Set data for the images manager\n            this.setData();\n\n            //Listen to events\n            this.listenEvents();\n\n        }\n    }\n</script>","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    [\n      !_vm.isQuillEditor\n        ? _c(\"div\", { staticClass: \"vx-row mb-3\" }, [\n            _c(\"div\", { staticClass: \"vx-col w-full\" }, [\n              _c(\n                \"div\",\n                {\n                  staticClass:\n                    \"abr-form-images flex flex-wrap content-start w-full\",\n                },\n                _vm._l(_vm.selectedImages, function (image) {\n                  return _c(\n                    \"div\",\n                    {\n                      key: image.id,\n                      staticClass: \"abr-form-image\",\n                      style: { width: _vm.previewWidth },\n                      attrs: { \"image-id\": image.id },\n                    },\n                    [\n                      _c(\"img\", {\n                        staticClass: \"object-cover rounded\",\n                        attrs: { src: image.url, width: \"100%\" },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"abr-image-btn bg-danger rounded shadow\",\n                          on: {\n                            click: function ($event) {\n                              return _vm.removeImage(image)\n                            },\n                          },\n                        },\n                        [\n                          _c(\"i\", { staticClass: \"material-icons\" }, [\n                            _vm._v(\n                              \"\\n                            close\\n                        \"\n                            ),\n                          ]),\n                        ]\n                      ),\n                    ]\n                  )\n                }),\n                0\n              ),\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"vx-col w-full\" },\n              [\n                _c(\n                  \"vs-button\",\n                  {\n                    attrs: { color: \"primary\", type: \"filled\" },\n                    on: {\n                      click: function ($event) {\n                        return _vm.showImagesModal()\n                      },\n                    },\n                  },\n                  [\n                    _vm._v(\n                      _vm._s(_vm.getActionName(\"choose\", true, _vm.multiple))\n                    ),\n                  ]\n                ),\n              ],\n              1\n            ),\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"vs-popup\",\n        {\n          attrs: {\n            fullscreen: \"\",\n            title: _vm.getPropertyTitle(\"uploaderTitle\"),\n            active: _vm.popupActive,\n          },\n          on: {\n            \"update:active\": function ($event) {\n              _vm.popupActive = $event\n            },\n          },\n        },\n        [\n          _c(\"div\", { staticClass: \"vx-row abr-images-container mb-0\" }, [\n            _c(\n              \"div\",\n              {\n                staticClass:\n                  \"vx-col w-3/4 h-full abr-images flex flex-wrap content-start mb-0 pr-0 vs-con-loading__container\",\n                attrs: { id: \"abr-images\" },\n              },\n              _vm._l(_vm.images, function (image, index) {\n                return _c(\n                  \"div\",\n                  {\n                    key: image.id,\n                    staticClass: \"abr-images-item rounded\",\n                    class: { \"border-primary\": _vm.isSelected(image.id) },\n                    attrs: { \"image-id\": image.id },\n                  },\n                  [\n                    _c(\"img\", {\n                      staticClass: \"object-cover\",\n                      attrs: { src: image.url, width: \"100%\" },\n                      on: {\n                        click: function ($event) {\n                          return _vm.selectImage(image)\n                        },\n                        load: function ($event) {\n                          return _vm.hideLoad(index)\n                        },\n                      },\n                    }),\n                    _vm._v(\" \"),\n                    _vm.isSelected(image.id)\n                      ? _c(\n                          \"div\",\n                          {\n                            staticClass:\n                              \"abr-image-btn bg-danger rounded shadow\",\n                            on: {\n                              click: function ($event) {\n                                return _vm.removeImage(image)\n                              },\n                            },\n                          },\n                          [\n                            _c(\"i\", { staticClass: \"material-icons\" }, [\n                              _vm._v(\n                                \"\\n                            close\\n                        \"\n                              ),\n                            ]),\n                          ]\n                        )\n                      : _vm._e(),\n                  ]\n                )\n              }),\n              0\n            ),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"vx-col w-1/4 pl-0\" }, [\n              _c(\"div\", { staticClass: \"vx-row\" }, [\n                !_vm.isEmpty(_vm.currentImage)\n                  ? _c(\n                      \"div\",\n                      { staticClass: \"vx-col w-full abr-selected-image\" },\n                      [\n                        _c(\"h3\", { staticClass: \"mb-6\" }, [\n                          _vm._v(\n                            _vm._s(_vm.getPropertyTitle(\"imageParameters\"))\n                          ),\n                        ]),\n                        _vm._v(\" \"),\n                        _c(\n                          \"div\",\n                          { staticClass: \"vx-row abr-image-preview mb-6\" },\n                          [\n                            _c(\"div\", { staticClass: \"vx-col w-full\" }, [\n                              _c(\"img\", {\n                                staticClass: \"mb-3\",\n                                attrs: { src: _vm.currentImage.url },\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"p\", [_vm._v(_vm._s(_vm.currentImage.title))]),\n                            ]),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"vx-row abr-image-form\" }, [\n                          _c(\n                            \"div\",\n                            { staticClass: \"vx-col w-full mb-6\" },\n                            [\n                              _c(\"vs-input\", {\n                                staticClass: \"w-full\",\n                                attrs: {\n                                  \"label-placeholder\":\n                                    _vm.getPropertyTitle(\"title\"),\n                                },\n                                on: {\n                                  change: function ($event) {\n                                    return _vm.updateImage(_vm.currentImage)\n                                  },\n                                },\n                                model: {\n                                  value: _vm.currentImage.title,\n                                  callback: function ($$v) {\n                                    _vm.$set(_vm.currentImage, \"title\", $$v)\n                                  },\n                                  expression: \"currentImage.title\",\n                                },\n                              }),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            { staticClass: \"vx-col w-full mb-6\" },\n                            [\n                              _c(\"vs-input\", {\n                                staticClass: \"w-full\",\n                                attrs: {\n                                  \"label-placeholder\":\n                                    _vm.getPropertyTitle(\"description\"),\n                                },\n                                on: {\n                                  change: function ($event) {\n                                    return _vm.updateImage(_vm.currentImage)\n                                  },\n                                },\n                                model: {\n                                  value: _vm.currentImage.description,\n                                  callback: function ($$v) {\n                                    _vm.$set(\n                                      _vm.currentImage,\n                                      \"description\",\n                                      $$v\n                                    )\n                                  },\n                                  expression: \"currentImage.description\",\n                                },\n                              }),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            { staticClass: \"vx-col w-full mb-6\" },\n                            [\n                              _c(\"vs-input\", {\n                                staticClass: \"w-full\",\n                                attrs: {\n                                  \"label-placeholder\":\n                                    _vm.getPropertyTitle(\"alt\"),\n                                },\n                                on: {\n                                  change: function ($event) {\n                                    return _vm.updateImage(_vm.currentImage)\n                                  },\n                                },\n                                model: {\n                                  value: _vm.currentImage.alt,\n                                  callback: function ($$v) {\n                                    _vm.$set(_vm.currentImage, \"alt\", $$v)\n                                  },\n                                  expression: \"currentImage.alt\",\n                                },\n                              }),\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            { staticClass: \"vx-col w-full mb-6\" },\n                            [\n                              _c(\n                                \"vs-button\",\n                                {\n                                  staticClass: \"w-1/2\",\n                                  attrs: { color: \"danger\", type: \"filled\" },\n                                  on: {\n                                    click: function ($event) {\n                                      return _vm.deleteImage(_vm.currentImage)\n                                    },\n                                  },\n                                },\n                                [\n                                  _vm._v(\n                                    _vm._s(_vm.getActionName(\"delete\", true))\n                                  ),\n                                ]\n                              ),\n                            ],\n                            1\n                          ),\n                        ]),\n                      ]\n                    )\n                  : _vm._e(),\n              ]),\n            ]),\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"vx-row abr-images-pagination mb-0\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"vx-col flex justify-center items-center w-3/4\" },\n              [\n                _c(\"vs-pagination\", {\n                  attrs: { total: _vm.pagination.totalPages },\n                  model: {\n                    value: _vm.pagination.currentPage,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.pagination, \"currentPage\", $$v)\n                    },\n                    expression: \"pagination.currentPage\",\n                  },\n                }),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              {\n                staticClass:\n                  \"vx-col flex justify-center items-center w-1/4 pl-0\",\n              },\n              [\n                _c(\n                  \"vs-button\",\n                  {\n                    staticClass: \"mr-3\",\n                    attrs: { color: \"primary\", type: \"filled\" },\n                    on: {\n                      click: function ($event) {\n                        return _vm.closeImagesModal()\n                      },\n                    },\n                  },\n                  [\n                    _vm._v(\n                      _vm._s(_vm.getActionName(\"choose\", true, _vm.multiple))\n                    ),\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"vs-button\",\n                  {\n                    attrs: { type: \"border\" },\n                    on: {\n                      click: function ($event) {\n                        _vm.uploadPopupActive = true\n                      },\n                    },\n                  },\n                  [_vm._v(_vm._s(_vm.getActionName(\"upload\")))]\n                ),\n              ],\n              1\n            ),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"vs-popup\",\n            {\n              attrs: {\n                title: _vm.getActionName(\"upload\", true, _vm.multiple),\n                active: _vm.uploadPopupActive,\n              },\n              on: {\n                \"update:active\": function ($event) {\n                  _vm.uploadPopupActive = $event\n                },\n              },\n            },\n            [\n              _c(\"div\", { staticClass: \"vx-row m-0\" }, [\n                _c(\n                  \"div\",\n                  { staticClass: \"vx-col w-full p-0\" },\n                  [\n                    _c(\"file-pond\", {\n                      attrs: {\n                        name: \"file[]\",\n                        \"label-idle\": _vm.uploadLabel,\n                        \"allow-multiple\": \"true\",\n                        \"accepted-file-types\": _vm.allowedFileTypes,\n                        server: _vm.uploadUrl,\n                        files: _vm.files,\n                        \"max-file-size\": _vm.maxFileSize,\n                      },\n                      on: {\n                        processfiles: function ($event) {\n                          return _vm.imageUploaded()\n                        },\n                      },\n                    }),\n                  ],\n                  1\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"vx-col w-full p-0\" },\n                  [\n                    _c(\n                      \"vs-button\",\n                      {\n                        staticClass: \"float-right\",\n                        on: {\n                          click: function ($event) {\n                            _vm.uploadPopupActive = false\n                          },\n                        },\n                      },\n                      [_vm._v(_vm._s(_vm.getActionName(\"close\")))]\n                    ),\n                  ],\n                  1\n                ),\n              ]),\n            ]\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nexport const EventBus = new Vue();\nexport default EventBus;","import { render, staticRenderFns } from \"./ImageUpload.vue?vue&type=template&id=f4e61056\"\nimport script from \"./ImageUpload.vue?vue&type=script&lang=js\"\nexport * from \"./ImageUpload.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/pedja/work/poklon/poklon/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('f4e61056')) {\n      api.createRecord('f4e61056', component.options)\n    } else {\n      api.reload('f4e61056', component.options)\n    }\n    module.hot.accept(\"./ImageUpload.vue?vue&type=template&id=f4e61056\", function () {\n      api.rerender('f4e61056', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/dashboard/components/images/ImageUpload.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=script&lang=js\"","export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUpload.vue?vue&type=template&id=f4e61056\""],"sourceRoot":""}