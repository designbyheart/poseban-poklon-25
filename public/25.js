(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{HjUk:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("XuX8"),i=new(s.n(a).a);e.b=i},t20p:function(t,e,s){"use strict";s.r(e);var a=s("zuR4"),i=s("Snq/"),n=s.n(i),l=s("xq4S"),o=[{slug:"site_logo",type:"image",value:""},{slug:"default_currency",type:"select",options:"currencies",labelKey:"title",valueKey:"code",value:""},{slug:"order_status",type:"select",options:"orderStatuses",labelKey:"title",valueKey:"id",value:""},{slug:"analytics_code",type:"textarea",value:""},{slug:"pixel_code",type:"textarea",value:""},{slug:"custom_js",type:"textarea",value:""},{slug:"custom_css",type:"textarea",value:""},{slug:"fb_url",type:"textInput",value:""},{slug:"twitter_url",type:"textInput",value:""},{slug:"instagram_url",type:"textInput",value:""},{slug:"youtube_url",type:"textInput",value:""},{slug:"contact_phone",type:"textInput",value:""},{slug:"contact_email",type:"textInput",value:""},{slug:"categories_seo_title",type:"textInput",value:""},{slug:"categories_seo_keywords",type:"textarea",value:""},{slug:"categories_seo_description",type:"textarea",value:""},{slug:"home_seo_title",type:"textInput",value:""},{slug:"home_seo_keywords",type:"textarea",value:""},{slug:"home_seo_description",type:"textarea",value:""}],r=[{name:"currencies",instance:"currency",data:[]},{name:"orderStatuses",instance:"orderStatus",data:[]}],c=s("dNjG"),u={components:{vSelect:n.a,ImageUpload:l.a},data:function(){return{instance:"setting",instanceSlug:"settings",settingsList:o,options:r,settings:[],API:c.a}},methods:{getOptionsData:function(){var t=this;this.options.forEach((function(e){t.getData(e.instance)}))},getOptions:function(t){return this.options.find((function(e){return e.name===t})).data},getData:function(t,e){var s=this,i=[];a.a.get(this.API[t].list,e).then((function(e){i=e.data.data;var a=s.options.find((function(e){return e.instance===t}));void 0!==a&&(a.data=i)}))},getSettings:function(t){var e=this;a.a.get(this.API[this.instance].list,t).then((function(t){e.settings=t.data.data,e.setValues()}))},setValues:function(){var t=this.settings;this.settingsList.forEach((function(e){var s=t.find((function(t){return t.slug===e.slug}));void 0!==s&&(e.value=s.content)}))},updateSettings:function(){var t=this,e=this.settings,s=this.API[this.instance].update,i={settings:[]};this.settingsList.forEach((function(t){var s=e.find((function(e){return e.slug===t.slug}));if(void 0!==s&&t.value!==s.content){var a={id:s.id,content:t.value};i.settings.push(a)}})),a.a.put(s,i).then((function(e){"success"===e.data&&t.showNotification("success","request.updatedSuccess","success",void 0,!0)})).catch((function(e){t.showNotification("success","request.error","danger")}))},getSettingName:function(t){return this.$t("settings."+t+".title")},showNotification:function(t,e,s,a,i){var n="",l=1;i&&(l=2),n=a?this.$tc("models."+a+".title",l):this.$tc("models."+this.instance+".title",l);var o=this.$t("messages."+t),r=this.$tc("messages."+e,l,{instance:n});this.$vs.notify({title:o,text:r,color:s})}},created:function(){},mounted:function(){this.getOptionsData(),this.getSettings()}},d=s("KHd+"),g=Object(d.a)(u,(function(){var t=this,e=t._self._c;return e("div",[e("vx-card",{attrs:{title:t.$t("settings.pageTitle")}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},t._l(t.settingsList,(function(s,a){return e("div",{key:a,staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("p",{staticClass:"font-bold mb-2"},[t._v(t._s(t.getSettingName(s.slug)))])]),t._v(" "),e("div",{staticClass:"vx-col w-full"},["select"===s.type?e("vs-select",{staticClass:"w-full",attrs:{autocomplete:"","is-selected":s.value},on:{"update:isSelected":function(e){return t.$set(s,"value",e)},"update:is-selected":function(e){return t.$set(s,"value",e)}},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"setting.value"}},t._l(t.getOptions(s.options),(function(t,a){return e("vs-select-item",{key:a,attrs:{value:t[s.valueKey],text:t[s.labelKey]}})})),1):t._e(),t._v(" "),"textarea"===s.type?e("vs-textarea",{staticClass:"mb-0",model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"setting.value"}}):t._e(),t._v(" "),"textInput"===s.type?e("vs-input",{staticClass:"w-full mb-0",model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"setting.value"}}):t._e(),t._v(" "),"image"===s.type?e("image-upload",{model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"setting.value"}}):t._e()],1)])})),0)]),t._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("vs-button",{on:{click:function(e){return t.updateSettings()}}},[t._v(t._s(t.$t("actions.update")))])],1)])])],1)}),[],!1,null,null,null);e.default=g.exports},xq4S:function(t,e,s){"use strict";var a=s("zuR4"),i=s("dNjG"),n=s("FQHZ"),l=s.n(n),o=(s("TtPJ"),s("GUIp")),r=s.n(o),c=s("O5a3"),u=s.n(c),d=s("HjUk"),g={name:"ImageUpload",components:{FilePond:l()(r.a,u.a)},props:{per_page:{type:Number,default:20},multiple:{type:Boolean,default:!1},isQuillEditor:{type:Boolean,default:!1},previewWidth:{type:String,default:"24%"},maxFileSize:{type:String,default:"1MB"},allowedFileTypes:{type:String,default:"image/jpeg, image/png, image/svg+xml"}},data:function(){return{popupActive:!1,uploadPopupActive:!1,uploadLabel:'Drag & Drop your image or <span class="filepond--label-action"> Browse </span>',uploadUrl:"",files:[],images:[],currentImage:{},selectedImages:[],requestParams:{per_page:this.per_page,sort_key:"created_at",sort_order:"desc"},pagination:{currentPage:1,nextPageUrl:"",totalPages:1},loadedImages:[],API:i.a}},watch:{"pagination.currentPage":function(t,e){this.getImages()},"$attrs.value":function(t,e){this.setData()}},methods:{hideLoad:function(t){this.loadedImages.push(t),this.loadedImages.length===this.images.length&&this.$vs.loading.close("#abr-images > .con-vs-loading")},getImages:function(){var t=this;this.showLoading();var e=this.API.image.list,s=this.pagination.currentPage;""!=this.pagination.nextPageUrl&&(e=e+"?page="+s),this.images=[],this.loadedImages=[],a.a.get(e,{params:this.requestParams}).then((function(e){t.images=e.data.data,t.pagination.nextPageUrl=e.data.next_page_url,t.pagination.totalPages=e.data.last_page}))},imageUploaded:function(){this.getImages()},selectImage:function(t){this.setCurrentImage(t);var e=this.selectedImages,s=e.length,a=this.multiple,i=e.find((function(e){return e.id===t.id}));if(this.isEmpty(i)&&(a||this.selectedImages.splice(0,1),this.selectedImages.push(t)),s<1||a){var n=e.find((function(e){return e.id===t.id}));this.isEmpty(n)&&this.selectedImages.push(t)}this.handleSelect()},isSelected:function(t){if(this.selectedImages.find((function(e){return e.id===t})))return!0},updateImage:function(t){var e=this;a.a.put(this.API.image.update+"/"+t.id,t).then((function(t){"success"===t.data?e.showNotification("success","request.updatedSuccess","success"):e.showNotification("error","request.error","danger")}))},removeImage:function(t){var e=this.selectedImages,s=e.find((function(e){return e.id===t.id}));if(void 0!==s){var a=e.indexOf(s);e.splice(a,1)}this.currentImage.id===t.id&&(this.currentImage={})},deleteImage:function(t){var e=this;this.removeImage(t);var s=this.images,i=s.find((function(e){return e.id===t.id}));a.a.delete(this.API.image.delete+"/"+t.id).then((function(a){if("success"===a.data){if(e.showNotification("success","request.deletedSuccess","success"),void 0!==i){var n=s.indexOf(t);s.splice(n,1)}}else e.showNotification("error","request.error","danger")}))},showNotification:function(t,e,s,a,i){var n="",l=1;i&&(l=2),n=a?this.$tc("models."+a+".title",l):this.$tc("models.image.title",l);var o=this.$t("messages."+t),r=this.$tc("messages."+e,l,{instance:n});this.$vs.notify({title:o,text:r,color:s})},showLoading:function(){this.$vs.loading({container:"#abr-images",scale:1,background:"#fff",color:"primary"})},setImages:function(t){this.selectedImages=t,this.currentImage==={}&&this.setCurrentImage()},setCurrentImage:function(t){void 0===t?this.selectedImages.length>0?this.currentImage=Object.assign({},this.selectedImages[0]):this.currentImage={}:this.currentImage=Object.assign(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},showImagesModal:function(){this.popupActive=!0,0===this.selectedImages.length&&1===this.pagination.currentPage&&this.showLoading(),this.getImages(),this.setCurrentImage()},closeImagesModal:function(){this.popupActive=!1},handleSelect:function(t){this.$emit("input",this.selectedImages)},setData:function(){var t=this.$attrs.value;""!==t&&void 0!==t&&(Array.isArray(t)||(t=JSON.parse(t)),this.setImages(t)),this.setUploadUrl()},getActionName:function(t,e,s){var a=1;s&&(a=2);var i=this.$t("actions."+t);return e?i+" "+this.$tc("models.image.title",a):i},getPropertyTitle:function(t){return this.$t("models.image.properties."+t)},setUploadUrl:function(){this.uploadUrl=this.API.image.create},listenEvents:function(){var t=this;d.a.$on("open-image-uploader",(function(e){t.showImagesModal()}))}},created:function(){this.setData(),this.listenEvents()}},p=s("KHd+"),v=Object(p.a)(g,(function(){var t=this,e=t._self._c;return e("div",[t.isQuillEditor?t._e():e("div",{staticClass:"vx-row mb-3"},[e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"abr-form-images flex flex-wrap content-start w-full"},t._l(t.selectedImages,(function(s){return e("div",{key:s.id,staticClass:"abr-form-image",style:{width:t.previewWidth},attrs:{"image-id":s.id}},[e("img",{staticClass:"object-cover rounded",attrs:{src:s.url,width:"100%"}}),t._v(" "),e("div",{staticClass:"abr-image-btn bg-danger rounded shadow",on:{click:function(e){return t.removeImage(s)}}},[e("i",{staticClass:"material-icons"},[t._v("\n                            close\n                        ")])])])})),0)]),t._v(" "),e("div",{staticClass:"vx-col w-full"},[e("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:function(e){return t.showImagesModal()}}},[t._v(t._s(t.getActionName("choose",!0,t.multiple)))])],1)]),t._v(" "),e("vs-popup",{attrs:{fullscreen:"",title:t.getPropertyTitle("uploaderTitle"),active:t.popupActive},on:{"update:active":function(e){t.popupActive=e}}},[e("div",{staticClass:"vx-row abr-images-container mb-0"},[e("div",{staticClass:"vx-col w-3/4 h-full abr-images flex flex-wrap content-start mb-0 pr-0 vs-con-loading__container",attrs:{id:"abr-images"}},t._l(t.images,(function(s,a){return e("div",{key:s.id,staticClass:"abr-images-item rounded",class:{"border-primary":t.isSelected(s.id)},attrs:{"image-id":s.id}},[e("img",{staticClass:"object-cover",attrs:{src:s.url,width:"100%"},on:{click:function(e){return t.selectImage(s)},load:function(e){return t.hideLoad(a)}}}),t._v(" "),t.isSelected(s.id)?e("div",{staticClass:"abr-image-btn bg-danger rounded shadow",on:{click:function(e){return t.removeImage(s)}}},[e("i",{staticClass:"material-icons"},[t._v("\n                            close\n                        ")])]):t._e()])})),0),t._v(" "),e("div",{staticClass:"vx-col w-1/4 pl-0"},[e("div",{staticClass:"vx-row"},[t.isEmpty(t.currentImage)?t._e():e("div",{staticClass:"vx-col w-full abr-selected-image"},[e("h3",{staticClass:"mb-6"},[t._v(t._s(t.getPropertyTitle("imageParameters")))]),t._v(" "),e("div",{staticClass:"vx-row abr-image-preview mb-6"},[e("div",{staticClass:"vx-col w-full"},[e("img",{staticClass:"mb-3",attrs:{src:t.currentImage.url}}),t._v(" "),e("p",[t._v(t._s(t.currentImage.title))])])]),t._v(" "),e("div",{staticClass:"vx-row abr-image-form"},[e("div",{staticClass:"vx-col w-full mb-6"},[e("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":t.getPropertyTitle("title")},on:{change:function(e){return t.updateImage(t.currentImage)}},model:{value:t.currentImage.title,callback:function(e){t.$set(t.currentImage,"title",e)},expression:"currentImage.title"}})],1),t._v(" "),e("div",{staticClass:"vx-col w-full mb-6"},[e("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":t.getPropertyTitle("description")},on:{change:function(e){return t.updateImage(t.currentImage)}},model:{value:t.currentImage.description,callback:function(e){t.$set(t.currentImage,"description",e)},expression:"currentImage.description"}})],1),t._v(" "),e("div",{staticClass:"vx-col w-full mb-6"},[e("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":t.getPropertyTitle("alt")},on:{change:function(e){return t.updateImage(t.currentImage)}},model:{value:t.currentImage.alt,callback:function(e){t.$set(t.currentImage,"alt",e)},expression:"currentImage.alt"}})],1),t._v(" "),e("div",{staticClass:"vx-col w-full mb-6"},[e("vs-button",{staticClass:"w-1/2",attrs:{color:"danger",type:"filled"},on:{click:function(e){return t.deleteImage(t.currentImage)}}},[t._v(t._s(t.getActionName("delete",!0)))])],1)])])])])]),t._v(" "),e("div",{staticClass:"vx-row abr-images-pagination mb-0"},[e("div",{staticClass:"vx-col flex justify-center items-center w-3/4"},[e("vs-pagination",{attrs:{total:t.pagination.totalPages},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1),t._v(" "),e("div",{staticClass:"vx-col flex justify-center items-center w-1/4 pl-0"},[e("vs-button",{staticClass:"mr-3",attrs:{color:"primary",type:"filled"},on:{click:function(e){return t.closeImagesModal()}}},[t._v(t._s(t.getActionName("choose",!0,t.multiple)))]),t._v(" "),e("vs-button",{attrs:{type:"border"},on:{click:function(e){t.uploadPopupActive=!0}}},[t._v(t._s(t.getActionName("upload")))])],1)]),t._v(" "),e("vs-popup",{attrs:{title:t.getActionName("upload",!0,t.multiple),active:t.uploadPopupActive},on:{"update:active":function(e){t.uploadPopupActive=e}}},[e("div",{staticClass:"vx-row m-0"},[e("div",{staticClass:"vx-col w-full p-0"},[e("file-pond",{attrs:{name:"file[]","label-idle":t.uploadLabel,"allow-multiple":"true","accepted-file-types":t.allowedFileTypes,server:t.uploadUrl,files:t.files,"max-file-size":t.maxFileSize},on:{processfiles:function(e){return t.imageUploaded()}}})],1),t._v(" "),e("div",{staticClass:"vx-col w-full p-0"},[e("vs-button",{staticClass:"float-right",on:{click:function(e){t.uploadPopupActive=!1}}},[t._v(t._s(t.getActionName("close")))])],1)])])],1)],1)}),[],!1,null,null,null);e.a=v.exports}}]);
//# sourceMappingURL=25.js.map